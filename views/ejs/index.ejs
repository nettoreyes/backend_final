<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>Productos</title>
</head>
<body style="background-color: rgb(240, 240, 240);">

            

    <div class="container bg-light mt-2"> 
              
        <div class="row justify-content-between align-items-center bg-dark text-light mx-1">
            <h2 class="col-6">Productos</h2>
            <h4 class="col-6 text-end">Usuario: <span id="tipoUsuario"><%= (tipoUsuario ? 'ADMINISTRADOR': 'CLIENTE') %></span></h4>
        </div>
        
        
        <div class="row justify-content-around mt-2">
            <% if (tipoUsuario){ %> 
            <button type="button" class="btn btn-primary col-2" data-bs-toggle="modal" data-bs-target="#exampleModal">Crear Producto</button> 
            <% } else{ %> 
            <button type="button" class="btn btn-success col-3" data-bs-toggle="modal" data-bs-target="#carroModal" onclick=" cargaProductosCarro() "><span id="idCarrito" class="badge bg-secondary"></span> Carrito <span id="cantidadCarrito" class="badge bg-danger">0</span></button> 
            <% } %>
            
            
        </div>



        <div id="alerta" class="alert alert-danger mt-1" role="alert"></div>        
        <div id="contenedorProductos" class="row justify-content-center row-cols-1 row-cols-md-2 row-cols-lg-3 g-2 mt-3 pb-2 border border-light "></div>
        
    </div>

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Mantenedor de productos</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">                    
                    <div class="mb-2">
                        <label for="title" class="form-label">Codigo</label>                        
                        <input type="text" class="form-control" id="sku" name="sku" >              
                        <input type="hidden" class="form-control" id="id" name="id" value="0" >              
                    </div>

                    <div class="mb-2">
                      <label for="title" class="form-label">Nombre</label>
                      <input type="text" class="form-control" id="nombre" name="nombre" >              
                    </div>

                    <div class="mb-2">
                        <label for="title" class="form-label">Descripcion</label>
                        <input type="text" class="form-control" id="descripcion" name="descripcion" >              
                      </div>
                
                    <div class="mb-2">
                      <label for="price" class="form-label">Precio</label>
                      <input type="number" class="form-control" id="precio" name="precio" >              
                    </div>
                
                    <div class="mb-2">
                      <label for="thumbnail" class="form-label">Url Imagen</label>
                      <input type="text" class="form-control" id="urlImage" name="urlImage">              
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Salir</button>
                    <button type="button" class="btn btn-primary" id="btnGuardaProducto">Guardar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal CARRO-->
    <div class="modal fade" id="carroModal" tabindex="-1" aria-labelledby="carroModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="carroModalLabel">Carrito de compras</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">                    
                    <table class="table table-sm table-dark table-striped">
                        <thead>
                          <tr>
                            <th scope="col">#</th>
                            <th scope="col">Sku</th>
                            <th scope="col">Nombre</th>
                            <th scope="col">Cantidad</th>
                            <th scope="col">Precio</th>
                            <th scope="col">Total</th>
                            <th scope="col">Eliminar</th>
                          </tr>
                        </thead>
                        <tbody id="tablaProductosCarro"></tbody>
                      </table>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Salir</button>
                    <button type="button" class="btn btn-primary" onclick="eliminaCarrito()">Eliminar Carrito</button>
                </div>
            </div>
        </div>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="./js/main.js"></script>
</body>
</html>

